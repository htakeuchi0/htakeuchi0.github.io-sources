<!--
定理番号を生成するショートコード．番号は1から始まり，連番で発行される．

Args:
  name: 定理種類名
  section: 節番号（オプション）
  option: 補足（オプション） 

Usage:
  \{\{< theorem name="<name"> [section="<section>"] [option="<option">] >\}\}

Examples:
  \{\{< theorem name="Theorem" >\}\} -> Theorem 1.
  \{\{< theorem name="Theorem" section="5.2" >\}\} -> Theorem 5.2.2.
  \{\{< theorem name="Proposition" section="3" option="補足" >\}\} -> Theorem 3.3 (補足)
-->


<!-- カウンタの初期化-->
{{- if not (.Page.Scratch.Get "theorem_num") }}
  {{- .Page.Scratch.Set "theorem_num" 1 -}}
{{- end -}}

<!-- 定理種類 (name), 節番号 (section: optional) の表示 -->
<b>{{- .Get "name" }} {{ with .Get "section" -}}
  {{- . -}}.
{{- end -}}
<!-- 定理番号 (theorem_num), 補足 (optional: optional) の表示 -->
{{ .Page.Scratch.Get "theorem_num" }}</b> {{- with .Get "option" }}
  ({{- . -}}).
{{- else -}}
<!-- オプションがない場合はドットだけ（空白制御のため） -->
  .
{{- end -}}

<!-- 定理番号 (theorem_num) のカウントアップ -->
{{- .Page.Scratch.Add "theorem_num" 1 -}}
